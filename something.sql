SET TERMOUT ON
PROMPT Building demonstration tables.  Please wait.
--SET TERMOUT OFF
DROP TABLE BOOKEDGUESTS;
DROP TABLE BOOKING;
DROP TABLE COST;
DROP TABLE DURATION;
DROP TABLE ROOM;
DROP TABLE ROOMTYPE;
DROP TABLE GUEST;
DROP TABLE CUSTOMER;
DROP SEQUENCE CUSTOMERSEQUENCE;
DROP SEQUENCE GUESTSEQUENCE;
DROP SEQUENCE ROOMSEQUENCE;
DROP SEQUENCE DURATIONSEQUENCE;
DROP SEQUENCE COSTSEQUENCE;
DROP SEQUENCE BOOKINGSEQUENCE;
DROP VIEW EXCELLENTCUSTOMERS;


CREATE TABLE CUSTOMER(
  CUSTOMERID INT NOT NULL PRIMARY KEY,
  FIRSTNAME VARCHAR(20) NOT NULL,
  LASTNAME VARCHAR(20) NOT NULL,
  AGE INT NOT NULL,
  PHONE NUMBER(11) NOT NULL,
  EMAIL VARCHAR(20) NOT NULL
);


CREATE TABLE GUEST(
  GUESTID INT PRIMARY KEY,
  FIRSTNAME VARCHAR(20) NOT NULL,
  LASTNAME VARCHAR(20) NOT NULL,
  AGE INT NOT NULL
);

CREATE TABLE ROOMTYPE(
  TYPE VARCHAR(20) NOT NULL PRIMARY KEY,
  FACILITIES VARCHAR(255) NOT NULL,
  PRICEPERNIGHT INT NOT NULL
);

CREATE TABLE ROOM(
  ROOMID INT PRIMARY KEY,
  TYPE VARCHAR(20) NOT NULL
);

CREATE TABLE DURATION(
  DURATIONID INT PRIMARY KEY,
  CHECKINDATE DATE NOT NULL,
  LENGTHOFSTAY INT NOT NULL
);

CREATE TABLE COST(
  COSTID INT  PRIMARY KEY,
  DURATIONID INT NOT NULL,
  PAYMENTMADE CHAR(1) CHECK(PAYMENTMADE IN ('Y','N')) NOT NULL,
  TOTALCOST INT NOT NULL,
  FOREIGN KEY (DURATIONID) REFERENCES DURATION(DURATIONID)
);


CREATE TABLE BOOKING(
  BOOKINGID INT PRIMARY KEY,
  CUSTOMERID INT NOT NULL,
  ROOMID INT NOT NULL,
  COSTID INT NOT NULL,
  FOREIGN KEY (CUSTOMERID) REFERENCES CUSTOMER(CUSTOMERID),
  FOREIGN KEY (ROOMID) REFERENCES ROOM(ROOMID),
  FOREIGN KEY (COSTID) REFERENCES COST(COSTID)
);

CREATE TABLE BOOKEDGUESTS(
  BOOKINGID INT NOT NULL,
  GUESTID INT NOT NULL,
  FOREIGN KEY (BOOKINGID) REFERENCES BOOKING(BOOKINGID),
  FOREIGN KEY (GUESTID) REFERENCES GUEST(GUESTID)
);

CREATE SEQUENCE CUSTOMERSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


CREATE SEQUENCE GUESTSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


CREATE SEQUENCE ROOMSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


CREATE SEQUENCE DURATIONSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


CREATE SEQUENCE COSTSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


CREATE SEQUENCE BOOKINGSEQUENCE
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 10;


INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'RHIANNAA', 'SINGH', 20, 07915438657, 'rhiannaa@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'SHIVANI', 'PATEL', 19, 07945678657, 'shivani@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'UZXAIR', 'ISHAQ', 20, 07562826282, 'uzzy@gmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'MOMIN', 'AHMAD', 19, 076893732292, 'momin@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'H', 'SORRYWHO', 21, 076893733992, 'h@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'SHEIKH', 'AHMAD', 19, 076755732292, 'sheikh@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'SHIVS', 'MANOGAROSINGAM', 19, 07689349422, 'shivs@gmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'HAIDER', 'ALI', 19, 07689344229, 'haider@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'SAAD', 'RASHID', 19, 07689373222, 'saad@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'ZAIYRA', 'KARIM', 19, 07684234232, 'zai@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'RIRI', 'AMRIK', 20, 07915435657, 'riri@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'TREVOR', 'MOORE', 19, 07945448657, 'trevor@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'JASON', 'ISHAQ', 45, 07562826282, 'jason@gmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'AARON', 'SMITH', 19, 076893732292, 'aaron@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'JUSTIN', 'MADHATTER', 21, 076323733992, 'justin@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'ELLA', 'JOHNSOM', 34, 07632322392, 'ella@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'PENELOPE', 'JIGSAW', 23, 07683339422, 'pene@gmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'TANIA', 'BADGE', 19, 07689300329, 'tan@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'MOHAMMAD', 'ASIM', 21, 07689333222, 'mo@hotmail.com');
INSERT INTO CUSTOMER VALUES (CUSTOMERSEQUENCE.nextval, 'SID', 'YEFD', 52, 076843334232, 'sid@hotmail.com');



    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ASIM', 'ASIM', 21);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'NISHA', 'MYJAAN', 27);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'DANNY', 'AHMAD', 11);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ANIKA', 'KARIM', 16);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ADAM', 'FAZAL', 11);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'MARYAM', 'KARIM', 11);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ZAKI', 'JAMAL', 11);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'HASEEB', 'ALI', 16);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ZARA', 'FATIMAH', 3);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'DAVEENA', 'KAUR', 17);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'FALAK', 'TAK', 22);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ANNA', 'WINTOUR', 57);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'GIGI', 'HADID', 24);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'ZAYN', 'MALIK', 25);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'TAYLOR', 'HILL', 23);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'BELLA', 'HADID', 24);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'JULIUS', 'CHINA', 20);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'PRODIGE', 'TUKALA', 20);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'UWAIS', 'ISHAQ', 16);
    INSERT INTO GUEST VALUES (GUESTSEQUENCE.nextval, 'SHEIKH', 'MOMIN', 19);


    INSERT INTO ROOMTYPE VALUES('EXCELLENT','POOL,MINIMART',150);
    INSERT INTO ROOMTYPE VALUES('DELUXE','POOL,MINIMART,SAUNA,GYM',170);
    INSERT INTO ROOMTYPE VALUES('MAGNIFICENT','POOL,MINIMART,SAUNA,GYM,SPA,EXCECUTIVELOUNGE',220);


    INSERT INTO ROOM VALUES (101, 'EXCELLENT');
    INSERT INTO ROOM VALUES (102, 'EXCELLENT');
    INSERT INTO ROOM VALUES (103, 'EXCELLENT');
    INSERT INTO ROOM VALUES (104, 'EXCELLENT');
    INSERT INTO ROOM VALUES (105, 'EXCELLENT');
    INSERT INTO ROOM VALUES (106, 'DELUXE');
    INSERT INTO ROOM VALUES (107, 'DELUXE');
    INSERT INTO ROOM VALUES (108, 'DELUXE');
    INSERT INTO ROOM VALUES (109, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (110, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (201, 'EXCELLENT');
    INSERT INTO ROOM VALUES (202, 'EXCELLENT');
    INSERT INTO ROOM VALUES (203, 'EXCELLENT');
    INSERT INTO ROOM VALUES (204, 'EXCELLENT');
    INSERT INTO ROOM VALUES (205, 'EXCELLENT');
    INSERT INTO ROOM VALUES (206, 'DELUXE');
    INSERT INTO ROOM VALUES (207, 'DELUXE');
    INSERT INTO ROOM VALUES (208, 'DELUXE');
    INSERT INTO ROOM VALUES (209, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (210, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (301, 'EXCELLENT');
    INSERT INTO ROOM VALUES (302, 'EXCELLENT');
    INSERT INTO ROOM VALUES (303, 'EXCELLENT');
    INSERT INTO ROOM VALUES (304, 'EXCELLENT');
    INSERT INTO ROOM VALUES (305, 'EXCELLENT');
    INSERT INTO ROOM VALUES (306, 'DELUXE');
    INSERT INTO ROOM VALUES (307, 'DELUXE');
    INSERT INTO ROOM VALUES (308, 'DELUXE');
    INSERT INTO ROOM VALUES (309, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (310, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (401, 'EXCELLENT');
    INSERT INTO ROOM VALUES (402, 'EXCELLENT');
    INSERT INTO ROOM VALUES (403, 'EXCELLENT');
    INSERT INTO ROOM VALUES (404, 'EXCELLENT');
    INSERT INTO ROOM VALUES (405, 'EXCELLENT');
    INSERT INTO ROOM VALUES (406, 'DELUXE');
    INSERT INTO ROOM VALUES (407, 'DELUXE');
    INSERT INTO ROOM VALUES (408, 'DELUXE');
    INSERT INTO ROOM VALUES (409, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (410, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (501, 'EXCELLENT');
    INSERT INTO ROOM VALUES (502, 'EXCELLENT');
    INSERT INTO ROOM VALUES (503, 'EXCELLENT');
    INSERT INTO ROOM VALUES (504, 'EXCELLENT');
    INSERT INTO ROOM VALUES (505, 'EXCELLENT');
    INSERT INTO ROOM VALUES (506, 'DELUXE');
    INSERT INTO ROOM VALUES (507, 'DELUXE');
    INSERT INTO ROOM VALUES (508, 'DELUXE');
    INSERT INTO ROOM VALUES (509, 'MAGNIFICENT');
    INSERT INTO ROOM VALUES (510, 'MAGNIFICENT');

    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '20-MAR-2018', 7);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '23-AUG-2018', 5);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '03-JUL-2018', 5);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '19-MAY-2018', 7);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '11-SEP-2018', 1);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '16-JUN-2018', 9);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '12-JUL-2018', 3);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '07-NOV-2018', 2);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '02-DEC-2018', 14);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '13-SEP-2018', 11);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '09-SEP-2018', 6);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '15-JUL-2018', 8);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '23-JUL-2018', 6);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '23-AUG-2018', 4);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '30-APR-2018', 5);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '14-APR-2018', 10);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '03-NOV-2018', 23);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '07-JUL-2018', 7);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '09-JUN-2018', 9);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '20-OCT-2018', 1);
    INSERT INTO DURATION VALUES (DURATIONSEQUENCE.nextval, '23-OCT-2018', 10);

    INSERT INTO COST VALUES(COSTSEQUENCE.nextval, 2, 'Y', 500);

    INSERT INTO BOOKING VALUES (BOOKINGSEQUENCE.nextval, 2, 102, 2);

    CREATE VIEW EXCELLENTCUSTOMERS AS SELECT C.FIRSTNAME, C.LASTNAME FROM CUSTOMER C, ROOM R, BOOKING B, DURATION D, COST CO WHERE B.CUSTOMERID=C.CUSTOMERID AND B.ROOMID = R.ROOMID AND R.TYPE='EXCELLENT' AND B.COSTID = CO.COSTID AND CO.DURATIONID = D.DURATIONID AND D.CHECKINDATE = CURRENT_DATE;
    --CREATE VIEW DELUXECUSTOMERS AS SELECT C.FIRSTNAME, C.LASTNAME FROM CUSTOMER C, ROOM R, BOOKING B WHERE B.CUSTOMERID=C.CUSTOMERID AND B.ROOMID = R.ROOMID AND R.TYPE='DELUXE';
    --CREATE VIEW MAGNIFICENTCUSTOMERS AS SELECT C.FIRSTNAME, C.LASTNAME FROM CUSTOMER C, ROOM R, BOOKING B WHERE B.CUSTOMERID=C.CUSTOMERID AND B.ROOMID = R.ROOMID AND R.TYPE='MAGNIFICENT';



  --  INSERT INTO COST VALUES (COSTSEQUENCE.nextval, 1(PUT A DURATIONID FROM DURATION TABLE HERE), 'Y(PUT Y OR N HERE)', 590);
  -- INSERT INTO BOOKING(BOOKINGSEQUENCE.nextval,1(PUT A CUSTOMERID FROM CUSTOMER TABLE HERE),1 (PUT A ROOMID FROM ROOM TABLE HERE),1 (PUT A COSTID FROM COST TABLE HERE));
  -- INSERT INTO BOOKEDGUESTS VALUES(1(PUT A BOOKINGID FROM BOOKING TABLE HERE), 1(PUT A GUESTID FROM GUEST TABLE HERE));

  -- all customers who have spent over a certain amount of money
